add_namespace = qing
add_namespace = qing_reb

country_event = { #Mudan Incident (Japanese in Taiwan)
    id = qing.1
    title = qing.1.t
    desc = qing.1.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing.1"
	}

    is_triggered_only = yes

    fire_only_once = yes

    option = { #oh shit we gotta act FAST
        name = qing.1.a
		# log = "option:        name = qing.1.a"
    }
}

country_event = { #Getting some Ironclads from the West
    id = qing.2
    title = qing.2.t
    desc = qing.2.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing.2"
	}

    is_triggered_only = yes

    fire_only_once = yes

    option = { #america
        name = qing.2.a
		# log = "option:        name = qing.2.a"
    }
    option = { #prussia
        name = qing.2.b
		# log = "option:        name = qing.2.b"
    }
    option = { #france
        name = qing.2.c
		# log = "option:        name = qing.2.c"
    }
    option = { #britain
        name = qing.2.h
		# log = "option:        name = qing.2.h"
    }
}

country_event = { #Qing Flag Change
    id = qing.3
    title = qing.3.t
    desc = qing.3.d
    
    fire_only_once = yes 
    
    trigger = {
        TAG = QNG
        date > 1862.8.1
        }   
    
    option = {
        name = qing.3.a
		# log = "option:        name = qing.3.a"
        
        hidden_effect = { 
        set_cosmetic_tag = QNG1
        }
        
      custom_effect_tooltip = qing.3   
    }
    
}

country_event = { #Lee Teng-Fan Residence 
    id = qing.4
    title = qing.4.t
    desc = qing.4.d

    fire_only_once = yes

    trigger = {
        TAG = QNG
        owns_state = 1229
        date > 1864.7.1
    }

    option = {
        name = qing.4.a
		# log = "option:        name = qing.4.a"
        add_political_power = 5
		set_temp_variable = { eoanb_prestige_change = 1 }
		eoanb_change_prestige_score = yes
    }
}

country_event = { #Qing self strengthing movement
    id = qing.5
    title = qing.5.t
    desc = qing.5.d
    
    fire_only_once = yes 
    
    trigger = {
        TAG = QNG
        date > 1861.9.8
    }   
    immediate={
		# log = "[THIS.GetTag]: firing id = qing.5"
		hidden_effect = { 
			country_event = {id = qing.6 days = 69}
        }
	}
    option = {
        name = qing.5.a
		# log = "option:        name = qing.5.a"
        
		set_country_flag = QNG_self_strengthening_movement   
		mark_focus_tree_layout_dirty = yes
		custom_effect_tooltip = qing.5  
    }
    
}

news_event = { #death of xianfang
    id = qing.6
    title = qing.6.t
    desc = qing.6.d

	is_triggered_only = yes
	
	major = yes
	
	immediate={
		# log = "[THIS.GetTag]: firing id = qing.6"
		QNG={
			if = {
				limit = {
					has_country_flag = QNG_xianjing_tree
				}
				retire_country_leader = yes
				QNG_great_regency_council={
					add_country_leader_role = {
						country_leader =  {
							ideology = absolutism
							expire = "1911.1.1.1"
						}
					}
					promote_character = yes
				}
				clr_country_flag = QNG_xianjing_tree
				set_country_flag = QNG_xianjing_transition_tree
				mark_focus_tree_layout_dirty = yes
			}
		}
	}

    option = {
        name = qing.6.a
		# log = "option:        name = qing.6.a"
    }
	
}
news_event = { #Xinyou Coup
    id = qing.7
    title = qing.7.t
    desc = qing.7.d

	is_triggered_only = yes
	
	immediate={
		# log = "[THIS.GetTag]: firing id = qing.7"
		hidden_effect={
			QNG={
				if = {
					limit = {
						has_country_flag = QNG_xianjing_transition_tree
					}
					remove_country_leader_role = {
					  character = QNG_great_regency_council
					  ideology = absolutism
					}
					QNG_Cixi_Empress={
						add_country_leader_role = {
							Promote_leader = yes
							Country_leader = {
								ideology = absolutism
								expire = "1908.1.1.1"
								traits = {
									
								}
							}
						}
						promote_character = {
							Ideology = absolutism
						}
						promote_character = yes
					}
					clr_country_flag = QNG_xianjing_transition_tree
					set_country_flag = QNG_tongzhi_transition_tree
					mark_focus_tree_layout_dirty = yes
				}
				else={#backup to refire event if cixi is not made ruler
					remove_country_leader_role = {
					  character = QNG_great_regency_council
					  ideology = absolutism
					}
					QNG_Cixi_Empress={
						add_country_leader_role = {
							Promote_leader = yes
							Country_leader = {
								ideology = absolutism
								expire = "1908.1.1.1"
								traits = {
									
								}
							}
						}
						promote_character = {
							Ideology = absolutism
						}
						promote_character = yes
					}
				}
				hidden_effect={
					swap_ideas ={ 
						add_idea = QNG_sushans_party_remnants
						remove_idea = QNG_sushans_party
					}
					swap_ideas ={ 
						add_idea = QNG_rengency_council_tongzhi_shattered
						remove_idea = QNG_rengency_council_tongzhi
					}
				}
			}
		}
	}

    option = {
        name = qing.7.a
		# log = "option:        name = qing.7.a"
    }
}

country_event = { #meeting with gong
    id = qing.8
    title = qing.8.t
    desc = qing.8.d
    
    fire_only_once = yes 
	is_triggered_only = yes
    
    option = {#gong agrees
        name = qing.8.a
		# log = "option:        name = qing.8.a"
        country_event = {id = qing.7 hours = 5}
		ai_chance={
			factor = 100
		}
    }
	option = {#gong disagrees
        name = qing.8.b
		# log = "option:        name = qing.8.b"
        country_event = {id = qing.9 hours = 5}
		ai_chance={
			factor = 0
		}
    }
    
}

country_event = { #meeting with gong refused, plot is reveled
    id = qing.9
    title = qing.9.t
    desc = qing.9.d
    
    fire_only_once = yes 
	is_triggered_only = yes
    
    option = {#agree
        name = qing.9.a
		# log = "option:        name = qing.9.a"
		if = {
			limit = {
				has_country_flag = QNG_xianjing_transition_tree
			}
			clr_country_flag = QNG_xianjing_transition_tree
			set_country_flag = QNG_eight_council_rebuilds_tree
			mark_focus_tree_layout_dirty = yes
			hidden_effect={
				add_ideas={
					QNG_burecratic_issues
					QNG_empresses_support
				}
			}
		}
    }
    
}

country_event = { #New Standard Army
    id = qing.10
    title = qing.10.t
    desc = qing.10.d
    
    fire_only_once = yes 
	is_triggered_only = yes
    
    option = {#ok
        name = qing.10.a
		# log = "option:        name = qing.10.a"
		delete_unit_template_and_units = {
			division_template = "Green Standard Army"
			disband = no #will refund equipment and manpower
		}
		delete_unit_template_and_units = {
			division_template = "Chinese Infantry"
			disband = yes #will refund equipment and manpower
		}
		load_oob=QNG_new_green_army
    }
    
}

country_event = { #creation of the local armies
	id = qing.11
	title = qing.11.t
	desc = qing.11.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#perfect
		name = qing.11.a
		# log = "option:		name = qing.11.a"
		add_stability = 0.1
		set_country_flag = QNG_warlord_armys_unlocked #this policy directly leads into the warlord era
		custom_effect_tooltip = QNG_vic_local_army_supress_revolts
	}
}

country_event = { #
	id = qing.12
	title = qing.12.t
	desc = qing.12.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#perfect
		name = qing.12.a
		# log = "option:		name = qing.12.a"
		if = {
			limit = {
				has_country_flag = QNG_eight_council_rebuilds_tree
			}
			clr_country_flag = QNG_eight_council_rebuilds_tree
			set_country_flag = QNG_eight_council_stands_strong
			mark_focus_tree_layout_dirty = yes
		}
	}
}

country_event = { #death of tongzhi
	id = qing.13
	title = qing.13.t
	desc = qing.13.d

	fire_only_once = yes
	is_triggered_only = yes
	major = yes
	
	immediate={
		# log = "[THIS.GetTag]: firing = qing.13"
		if = {
			limit = {QNG_Tongzhi_emperor = {is_country_leader = yes}
			}
			hidden_effect={
				retire_character = QNG_Tongzhi_emperor
				QNG_Cixi_Empress={
					add_country_leader_role = {
							Promote_leader = yes
							Country_leader = {
								ideology = absolutism
								expire = "1908.1.1.1"
								traits = {
									
								}
							}
						}
					promote_character = {
						Ideology = absolutism
					}
					promote_character = yes
				}
			}
		}
	}
	
	option = {#perfect
		name = qing.13.a
		# log = "option:		name = qing.13.a"
		trigger = { tag = QNG } 
		clr_country_flag = QNG_tongzhi_ruling_tree
		set_country_flag = QNG_guangxu_rengency_tree
		load_focus_tree = qing_guangxu
		
	}
	option = {#another young emperor dies?
		name = qing.13.b
		# log = "option:		name = qing.13.b"
		trigger = { NOT = { tag = QNG } }
	}
}

country_event = { #leveied charges
	id = qing.14
	title = qing.14.t
	desc = qing.14.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#perfect
			name = qing.14.a
		# log = "option:			name = qing.14.a"
		set_country_flag = QNG_cixi_domininate
	}
}
country_event = { #final move
    id = qing.15
    title = qing.15.t
    desc = qing.15.d
    
    fire_only_once = yes 
	is_triggered_only = yes

	option = {#perfect
		name = qing.15.a
		# log = "option:		name = qing.15.a"
		set_country_flag = QNG_gong_domininate
	}
}
country_event = { #famine outbreak
	id = qing.16
	title = qing.16.t
	desc = qing.16.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#damn
		name = qing.16.a
		# log = "option:		name = qing.16.a"
		add_ideas = {QNG_mac_northern_famine}
		607={add_dynamic_modifier = { modifier = terrible_famine }}
		598={add_dynamic_modifier = { modifier = terrible_famine }}
		597={add_dynamic_modifier = { modifier = terrible_famine }}
		615={add_dynamic_modifier = { modifier = terrible_famine }}
		#southern hebei
		614={add_dynamic_modifier = { modifier = terrible_famine }}
		1151={add_dynamic_modifier = { modifier = terrible_famine }}
	}
}
country_event = { #big swords society
	id = qing.17
	title = qing.17.t
	desc = qing.17.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.17.a
		# log = "option:		name = qing.17.a"
		set_country_flag = QNG_boxer_reb_active
	}
}
country_event = { #results of the treatment
	id = qing.18
	title = qing.18.t
	desc = qing.18.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.18.a
		# log = "option:		name = qing.18.a"
		set_country_flag = QNG_rengent_cured
	}
}
#rail development
country_event = { #the suzhou proposal
	id = qing.19
	title = qing.19.t
	desc = qing.19.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.19.a
		# log = "option:		name = qing.19.a"
		set_country_flag = QNG_suzhou_rail
	}
}
country_event = { #the hankou proposal
	id = qing.20
	title = qing.20.t
	desc = qing.20.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.20.a
		# log = "option:		name = qing.20.a"
		set_country_flag = QNG_hankou_rail
	}
}
country_event = { #the wuhao proposal
	id = qing.21
	title = qing.21.t
	desc = qing.21.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.21.a
		# log = "option:		name = qing.21.a"
		set_country_flag = QNG_wuhao_rail
	}
}

country_event = { #Pavilion of purple light
	id = qing.22
	title = qing.22.t
	desc = qing.22.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.22.a
		# log = "option:		name = qing.22.a"
		add_political_power = 100
	}
}

country_event = { #
	id = qing.23
	title = qing.23.t
	desc = qing.23.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.23.a
		# log = "option:		name = qing.23.a"
		if = {
			limit = {
				has_idea = QNG_empresses_support_2
			}
			swap_ideas={
				remove_idea = QNG_empresses_support_2
				add_idea = QNG_empresses_support_3
			}
		}
		else={
			swap_ideas={
				remove_idea = QNG_empresses_support_3
				add_idea = QNG_empresses_support_4
			}
		}
	}
}
country_event = { #
	id = qing.24
	title = qing.24.t
	desc = qing.24.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.24.a
		# log = "option:		name = qing.24.a"
		if = {
			limit = {
				has_idea = QNG_empresses_support_2
			}
			swap_ideas={
				remove_idea = QNG_empresses_support_2
				add_idea = QNG_empresses_support_3
			}
		}
		else={
			swap_ideas={
				remove_idea = QNG_empresses_support_3
				add_idea = QNG_empresses_support_4
			}
		}
	}
}

country_event = { #Ending the tongzhi rengency
	id = qing.25
	title = qing.25.t
	desc = qing.25.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.25.a
		# log = "option:		name = qing.25.a"
		hidden_effect={
			if = {
				limit = {
					has_country_flag = QNG_tongzhi_sushsan_tree
				}
				clr_country_flag = QNG_tongzhi_sushsan_tree
				remove_ideas = {QNG_empresses_support_4 QNG_sushans_party_3 QNG_rengency_council_tongzhi}
				remove_country_leader_role = {
					character = QNG_great_regency_council
					ideology = absolutism
				}
			}
			else={
				clr_country_flag = QNG_tongzhi_restoration_tree
				remove_country_leader_role = {
					character = QNG_Cixi_Empress
					ideology = absolutism
				}
			}
			set_country_flag = QNG_tongzhi_ruling_tree
			mark_focus_tree_layout_dirty = yes
			QNG_Tongzhi_emperor = {
				add_country_leader_role = {
					Promote_leader = yes
					Country_leader = {
						ideology = absolutism
						expire = "1908.1.1.1"
						traits = {
								
						}
					}
				}
				promote_character = {
					Ideology = absolutism
				}
				promote_character = yes
			}
		}
	}
}

country_event = { #Ending the Guangxu rengency
	id = qing.26
	title = qing.26.t
	desc = qing.26.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {#ok
		name = qing.26.a
		# log = "option:		name = qing.26.a"
		hidden_effect={
			remove_country_leader_role = {
				character = QNG_Cixi_Empress
				ideology = absolutism
			}
			clr_country_flag = QNG_guangxu_rengency_tree
			set_country_flag = QNG_guangxu_ruling_tree
			mark_focus_tree_layout_dirty = yes
			
			QNG_Guangxu_Emperor = {
				add_country_leader_role = {
					Promote_leader = yes
					Country_leader = {
						ideology = absolutism
						expire = "1908.1.1.1"
						traits = {
								
						}
					}
				}
				promote_character = {
					Ideology = absolutism
				}
				promote_character = yes
			}
		}
	}
}

country_event = { #White hao army revolt
    id = qing_reb.1
    title = qing_reb.1.t
    desc = qing_reb.1.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.1"
	}

    trigger = {
		TAG = QNG
		date > 1858.1.18
		date < 1870.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.1"
		hidden_effect={
			if = {
				limit = {
					SIC = {
						exists = yes
						
					}
				}
				SIC={
					set_province_controller = 9939
					set_province_controller = 1474
					load_oob = "SIC_White_Hao"
				}
			}
			else={
				SIC={
					set_state_owner = 603
					set_cosmetic_tag = SIC_WH
					set_province_controller = 9939
					set_province_controller = 1474
					load_oob = "SIC_White_Hao"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
			}
		}
	}
    option = { #More of them
        name = qing_reb.1.a
		# log = "option:        name = qing_reb.1.a"
		trigger={tag = QNG}
    }
}

country_event = { #Shuntian revolt
    id = qing_reb.2
    title = qing_reb.2.t
    desc = qing_reb.2.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.2"
	}

    trigger = {
		TAG = QNG
		date > 1859.1.18
		date < 1870.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.2"
		hidden_effect={
			SHU={
				set_state_owner = 605
				add_state_core = 605
				set_province_controller = 1395
				set_province_controller = 12705
				set_province_controller = 11972
				set_province_controller = 12819
				load_oob = "SHU_1859"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.2.a
		# log = "option:        name = qing_reb.2.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.2.b
		# log = "option:        name = qing_reb.2.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = SHU}
		SHU={
			set_cosmetic_tag = SHU_shuntain_clique
			load_focus_tree = CHI_warlords_1872	
			remove_ideas = {QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			if = {
				limit = {
					ROOT = {owns_state=973}
				}
				transfer_state = 973
				add_state_core = 973		
			}
			if = {
				limit = {
					ROOT = {owns_state=601}
				}
				transfer_state = 601
				add_state_core = 601		
			}
		}
	}
}
country_event = { #Tianshun revolt
    id = qing_reb.3
    title = qing_reb.3.t
    desc = qing_reb.3.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.3"
	}

    trigger = {
		TAG = QNG
		date > 1861.2.10
		date < 1870.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.3"
		hidden_effect={
			ANH={
				set_state_owner = 606
				add_state_core = 606
				set_province_controller = 7094
				load_oob = "ANH_1861"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.3.a
		# log = "option:        name = qing_reb.3.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.3.b
		# log = "option:        name = qing_reb.3.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = ANH}
		ANH={
			load_focus_tree = CHI_warlords_1872
			remove_ideas = {QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
		}
	}
}
country_event = { #Tianshun 2nd revolt
    id = qing_reb.4
    title = qing_reb.4.t
    desc = qing_reb.4.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.4"
	}

    trigger = {
		TAG = QNG
		date > 1861.10.1
		date < 1870.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.4"
		hidden_effect={
			if = {
				limit = {
					ANH = {
						exists = yes
					}
				}
				ANH={
					set_province_controller = 12036
					set_province_controller = 11916
					load_oob = "ANH_2reb"
				}
			}
			else={
				ANH={
					set_state_owner = 606
					add_state_core = 606
					set_province_controller = 12036
					set_province_controller = 11916
					load_oob = "ANH_2reb"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
				
			}
		}
	}
    option = { #even More of them
        name = qing_reb.4.a
		# log = "option:        name = qing_reb.4.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.4.b
		# log = "option:        name = qing_reb.4.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = ANH}
		ANH={
			load_focus_tree = CHI_warlords_1872
			remove_ideas = {QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
		}
	}
}
country_event = { #Tianshun 3rd revolt
    id = qing_reb.5
    title = qing_reb.5.t
    desc = qing_reb.5.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.5"
	}

    trigger = {
		TAG = QNG
		date > 1863.5.1
		date < 1870.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.5"
		hidden_effect={
			if = {
				limit = {
					ANH = {
						exists = yes
					}
				}
				ANH={
					set_province_controller = 10040
					set_province_controller = 4079
					set_province_controller = 12036
					set_province_controller = 11916
					load_oob = "ANH_1863"
				}
			}
			else={
				ANH={
					set_state_owner = 606
					add_state_core = 606
					set_province_controller = 10040
					set_province_controller = 4079
					set_province_controller = 12036
					set_province_controller = 11916
					load_oob = "ANH_1863"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
			}
		}
	}
    option = { #even More of them
        name = qing_reb.5.a
		# log = "option:        name = qing_reb.5.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.5.b
		# log = "option:        name = qing_reb.5.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = ANH}
		ANH={
			load_focus_tree = CHI_warlords_1872
			remove_ideas = {QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
		}
	}
}

country_event = { #Taiping loses nanjing
    id = qing_reb.6
    title = qing_reb.6.t
    desc = qing_reb.6.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.6"
	}

    trigger = {
		tag = TAI
		1056={
			is_controlled_by = QNG
		}
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.6"
		kill_country_leader = yes
		TAI_Hong_Tianguifu={
			add_country_leader_role = {
				Promote_leader = yes
				Country_leader = {
					ideology = other_ideology
					expire = "1891.12.31.1"
					traits = {
						inexperienced_monarch
					}
				 }
			}
			promote_character = yes
		}
	}
    option = { #
        name = qing_reb.6.a
		# log = "option:        name = qing_reb.6.a"
		swap_ideas={
			remove_idea = QNG_rebel_uprising
			add_idea = QNG_rebel_uprising_lost
		}
    }
}

country_event = { #Pugunhui revolt
    id = qing_reb.7
    title = qing_reb.7.t
    desc = qing_reb.7.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.7"
	}

    trigger = {
		TAG = QNG
		date > 1862.4.18
		date < 1865.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.7"
		hidden_effect={
			TAW={
				set_state_owner = 1229
				add_state_core = 1229
				set_state_owner = 524
				add_state_core = 524
				load_oob = "TAW_1862"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				set_province_controller = 7214
				set_province_controller = 11959
				set_province_controller = 1091
				set_province_controller = 12068
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.7.a
		# log = "option:        name = qing_reb.7.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.7.b
		# log = "option:        name = qing_reb.7.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = TAW}
		if = {
			limit = {GXC={exists = yes}}
			GXC={puppet = TAW}
		}
		TAW = {
			remove_ideas = {QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
		}
	}
}

country_event = { #Bai Linga revolt
    id = qing_reb.8
    title = qing_reb.8.t
    desc = qing_reb.8.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.8"
	}

    trigger = {
		TAG = QNG
		date > 1861.3.1
		date < 1865.1.1
		has_country_flag = true_china
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.8"
		hidden_effect={
			FEG={
				set_state_owner = 610
				add_state_core = 610
				load_oob = "FEG_1861"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				set_province_controller = 934
				set_province_controller = 3934
				set_province_controller = 6898
				set_province_controller = 11855
				set_province_controller = 3881
				set_province_controller = 7633
				set_province_controller = 972
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.8.a
		# log = "option:        name = qing_reb.8.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.12.b
		# log = "option:        name = qing_reb.12.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = FEG}
		FEG={
			set_cosmetic_tag = FEG_bai_linga_clique
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 611
			add_state_core = 611
			transfer_state = 609
			add_state_core = 609
		}
	}
}

country_event = { #Ma 1st revolt
    id = qing_reb.9
    title = qing_reb.9.t
    desc = qing_reb.9.d

    #picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.9"
	}

    trigger = {
  	#	TAG = QNG
  	#	date > 1862.1.1
  	#	date < 1865.1.1
  		has_country_flag = true_china
  	}

	  #mean_time_to_happen = { days = 20 }
    is_triggered_only = yes
    
    
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.9"
		hidden_effect={
			XSM={
				set_state_owner = 604
				add_state_core = 604
				set_province_controller = 4888
				load_oob = "XSM_zhanao"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.9.a
		# log = "option:        name = qing_reb.9.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.9.b
		# log = "option:        name = qing_reb.9.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = XSM}
		XSM={
			set_cosmetic_tag = XSM_early_ma_clique #just the flag
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 604
			transfer_state = 1255
			add_state_core = 1255
			transfer_state = 616
			add_state_core = 616
			transfer_state = 1256
			add_state_core = 1256
		}
	}
}
country_event = { #Ma 2nd* revolt
    id = qing_reb.10
    title = qing_reb.10.t
    desc = qing_reb.10.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.10"
	}

    trigger = {
		#TAG = QNG
		#date > 1862.3.1
		#date < 1865.1.1
		has_country_flag = true_china
	}

	  #mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.10"
		hidden_effect={
			if = {
				limit = {
					XSM = {
						exists = yes
					}
				}
				XSM={
					set_province_controller = 10854
					set_province_controller = 8081
					add_state_core = 1256
					load_oob = "XSM_hualong"
				}
			}
			else={
				XSM={
					set_state_owner = 1256
					add_state_core = 1256
					set_province_controller = 10854
					set_province_controller = 8081
					load_oob = "XSM_hualong"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
			}
		}
	}
    option = { #even More of them
        name = qing_reb.10.a
		# log = "option:        name = qing_reb.10.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.10.b
		# log = "option:        name = qing_reb.10.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = XSM}
		XSM={
			set_cosmetic_tag = XSM_early_ma_clique #just the flag
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 604
			transfer_state = 1255
			add_state_core = 1255
			transfer_state = 616
			add_state_core = 616
			transfer_state = 1256
			add_state_core = 1256
		}
	}
}

country_event = { #Ma 3rd* revolt
    id = qing_reb.11
    title = qing_reb.11.t
    desc = qing_reb.11.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.11"
	}

    trigger = {
		TAG = QNG
		#date > 1862.3.1
		#date < 1865.1.1
		has_country_flag = true_china
	}

	  #mean_time_to_happen = { days = 200 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.11"
		hidden_effect={
			if = {
				limit = {
					XSM = {
						exists = yes
					}
				}
				XSM={
					set_province_controller = 10490
					set_province_controller = 12327
					load_oob = "XSM_guiyuan"
				}
			}
			else={
				XSM={
					set_state_owner = 604
					set_province_controller = 10490
					set_province_controller = 12327
					load_oob = "XSM_guiyuan"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
			}
		}
	}
    option = { #even More of them
        name = qing_reb.11.a
		# log = "option:        name = qing_reb.11.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.11.b
		# log = "option:        name = qing_reb.11.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = XSM}
		XSM={
			set_cosmetic_tag = XSM_early_ma_clique #just the flag
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 604
			transfer_state = 1255
			add_state_core = 1255
			transfer_state = 616
			add_state_core = 616
			transfer_state = 1256
			add_state_core = 1256
		}
	}
	
}
country_event = { #Ma 4th revolt
    id = qing_reb.12
    title = qing_reb.12.t
    desc = qing_reb.12.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.12"
	}

  trigger = {
		#TAG = QNG
		#date > 1865.3.1
		#date < 1868.1.1
		has_country_flag = true_china
	}

	  # mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.12"
		hidden_effect={
			if = {
				limit = {
					XSM = {
						exists = yes
					}
				}
				XSM={
					set_state_owner = 1255
					add_state_core = 1255
					set_province_controller = 12596
					set_province_controller = 12820
					set_province_controller = 1778
					set_province_controller = 7971
					set_province_controller = 2028
					load_oob = "XSM_wenlu"
				}
			}
			else={
				XSM={
					set_state_owner = 1255
					add_state_core = 1255
					set_province_controller = 12596
					set_province_controller = 12820
					set_province_controller = 1778
					set_province_controller = 7971
					set_province_controller = 2028
					load_oob = "XSM_wenlu"
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					set_country_flag = rebel_uprising
				}
			}
		}
	}
    option = { #even More of them
        name = qing_reb.11.a
		# log = "option:        name = qing_reb.11.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.12.b
		# log = "option:        name = qing_reb.12.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = XSM}
		XSM={
			set_cosmetic_tag = XSM_early_ma_clique #just the flag
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 604
			transfer_state = 1255
			add_state_core = 1255
			transfer_state = 616
			add_state_core = 616
			transfer_state = 1256
			add_state_core = 1256
		}
	}
}
country_event = { #Gelaohui revolt
    id = qing_reb.13
    title = qing_reb.13.t
    desc = qing_reb.13.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.13"
	}

    trigger = {
		TAG = QNG
		#date > 1862.1.1
		#date < 1868.1.1
		has_country_flag = true_china
	}

	#mean_time_to_happen = { days = 90 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.13"
		hidden_effect={
			YUL={
				set_cosmetic_tag = SHX_Gelaohui
				set_state_owner = 1222
				add_state_core = 1222
				set_province_controller = 517
				set_province_controller = 4939
				set_province_controller = 3745
				load_oob = "SHX_Gelaohui"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				if = {
					limit = {
						ZHI={exists = yes}
					}
					declare_war_on = {
						target = ZHI
						type = annex_everything
					}
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #even More of them
        name = qing_reb.13.a
		# log = "option:        name = qing_reb.13.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.13.b
		# log = "option:        name = qing_reb.13.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = YUL}
		YUL={
			set_cosmetic_tag = SHX_gelaohui_clique
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			transfer_state = 622
			add_state_core = 622
			transfer_state = 283
			add_state_core = 283
			transfer_state = 1226
			add_state_core = 1226
			transfer_state = 807
			add_state_core = 807
			if = {
				limit = {
					ZHI={exists=yes}
				}
				white_peace = ZHI
			}
		}
	}
}
country_event = { #hui revolt
    id = qing_reb.14
    title = qing_reb.14.t
    desc = qing_reb.14.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.14"
	}

    trigger = {
		TAG = QNG
		#date > 1862.2.1
		#date < 1868.1.1
		has_country_flag = true_china
	}

	#mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.14"
		hidden_effect={
			ZHI={
				set_cosmetic_tag = ZHI_hui
				set_state_owner = 620
				add_state_core = 620
				set_province_controller = 8072
				set_province_controller = 7019
				set_province_controller = 12408
				set_province_controller = 4295
				set_province_controller = 4167
				set_province_controller = 10257
				set_province_controller = 4256
				set_province_controller = 7406
				load_oob = "ZHI_Hui"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				if = {
					limit = {
						YUL={exists = yes}
					}
					declare_war_on = {
						target = YUL
						type = annex_everything
					}
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #let us fight
        name = qing_reb.14.a
		# log = "option:        name = qing_reb.14.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.14.b
		# log = "option:        name = qing_reb.14.b"
		trigger={NOT={tag = QNG}}
		QNG={white_peace = ZHI}
		ZHI={
			set_cosmetic_tag = ZHI_hui_clique
			load_focus_tree = CHI_warlords_1872	
			remove_ideas={QNG_rebel_uprising}
			add_ideas = {CHI_rebel_administration}
			white_peace = YUL
			transfer_state = 1223
			add_state_core = 1223
		}
	}
}

country_event = { #Dungan revolt
    id = qing_reb.15
    title = qing_reb.15.t
    desc = qing_reb.15.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.15"
	}

    trigger = {
		#TAG = QNG
		#date > 1864.2.1
		#date < 1868.1.1
		has_country_flag = true_china
	}

	#mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.15"
		hidden_effect={
			SIK={
				set_cosmetic_tag = SIK_dungan
				set_state_owner = 287
				add_state_core = 287
				set_state_controller = 287
				set_province_controller = 5042
				set_province_controller = 8112
				set_province_controller = 10885
				
				set_state_owner = 619
				set_province_controller = 7790
				set_province_controller = 1970
				
				set_province_controller = 5087
				
				set_province_controller = 12119
				
				set_state_owner = 617
				set_province_controller = 4828
				set_province_controller = 7949
				set_province_controller = 1703
				set_province_controller = 4682
				set_province_controller = 7702
				set_province_controller = 8086
				
				set_province_controller = 10545
				set_province_controller = 4709
				set_province_controller = 10674
				load_oob = "SIK_dungan_1"
				create_country_leader = {
					name = "Tuo Ming"
					desc = "POLITICS_TEMP_DESC"
					picture = "Portrait_SIK_Tuo_Ming.dds"
					expire = 1891.12.31
					ideology = despotism
				}
				set_country_flag = rebel_uprising
				if = {
					limit = {ROOT = {tag = QNG}}
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
					if = {
						limit = {
							YUL={exists = yes}
						}
						declare_war_on = {
							target = YUL
							type = annex_everything
						}
					}
				}
			}
		}
	}
    option = { #let us fight
        name = qing_reb.15.a
		# log = "option:        name = qing_reb.15.a"
		trigger={tag = QNG}
    }
	option = { #we must consolidate what we have
        name = qing_reb.15.b
		# log = "option:        name = qing_reb.15.b"
		trigger={NOT={tag = QNG}}
				SIK={
					load_focus_tree = CHI_warlords_1872	
					set_cosmetic_tag = SIK_dungan_clique
					remove_ideas={QNG_rebel_uprising}
					add_ideas = {CHI_rebel_administration}
					transfer_state = 287
					transfer_state = 619
					add_state_core = 619
					transfer_state = 1253
					add_state_core = 1253
					transfer_state = 1254
					add_state_core = 1254
					transfer_state = 1225
					add_state_core = 1225
					transfer_state = 617
					add_state_core = 617
					transfer_state = 1252
					add_state_core = 1252
					transfer_state = 618
					add_state_core = 618
					transfer_state = 947
					add_state_core = 947
					if = {
						limit = {
							ROOT = {owns_state=945}
						}
						transfer_state = 945
						add_state_core = 945
							
					}
					if = {
						limit = {
							ROOT = {owns_state=946}
						}
						transfer_state = 946
						add_state_core = 946
							
					}
					if = {
						limit = {
							ROOT = {owns_state=943}
						}
						transfer_state = 943
						add_state_core = 943
							
					}
					if = {
						limit = {
							ROOT = {owns_state=944}
						}
						transfer_state = 944
						add_state_core = 944
							
					}
					set_country_flag = rebel_uprising
				}
    }
}

country_event = { #Ma Zhenlong revolt
    id = qing_reb.16
    title = qing_reb.16.t
    desc = qing_reb.16.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.16"
	}

    trigger = {
		#TAG = QNG
		#date > 1864.2.1
		#date < 1868.1.1
		has_country_flag = true_china
	}

	  #mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.16"
		hidden_effect={
			MAN={
				set_cosmetic_tag = MAN_ma_zhe
				set_state_owner = 715
				add_state_core = 715
				set_state_owner = 716
				add_state_core = 716
				set_state_owner = 328
				add_state_core = 328
				set_province_controller = 916
				set_province_controller = 4642
				set_province_controller = 930
				set_province_controller = 887
				set_province_controller = 3849
				set_province_controller = 9885
				set_province_controller = 11771
				set_province_controller = 6951
				set_province_controller = 11815
				set_province_controller = 3934
				set_province_controller = 934
				set_province_controller = 6837
				set_province_controller = 9781
				set_province_controller = 892
				set_province_controller = 3895
				set_province_controller = 3839
				set_province_controller = 3913
				set_province_controller = 1567
				set_province_controller = 7663
				set_province_controller = 11744
				set_province_controller = 4503
				set_province_controller = 7652
				set_province_controller = 7523
				set_province_controller = 9782
				set_province_controller = 7591
				set_province_controller = 9928
				set_province_controller = 987
				set_province_controller = 6837
				load_oob = "MAN_Ma_Zhe"
				declare_war_on = {
					target = QNG
					type = annex_everything
				}
				create_country_leader = {
					name = "Ma Shazi"
					desc = "POLITICS_TEMP_DESC"
					picture = "Portrait_MAN_Ma_Shazi.dds"
					expire = 1891.12.31
					ideology = despotism
				}
				add_ideas={
					QNG_rebel_uprising
				}
				set_country_flag = rebel_uprising
			}
		}
	}
    option = { #let us fight
        name = qing_reb.16.a
		# log = "option:        name = qing_reb.16.a"
		trigger={tag = QNG}
    }
}

country_event = { #Qing shattered
    id = qing_reb.17
    title = qing_reb.17.t
    desc = qing_reb.17.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.17"
	}

    trigger = {
		TAG = QNG
		#OR ={
		#	surrender_progress > 0.60
		#	NOT={controls_state = 608}
		#}
		date < 1885.1.1
	}

	#mean_time_to_happen = { days = 2 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.17"
		hidden_effect={
			#Qing retreats to Manchuria 
			set_cosmetic_tag = QNG_manchurian_rump_state
			if = {
				limit = {
					has_idea = QNG_idea_arrow_incident
				}
				remove_ideas={QNG_idea_arrow_incident}
			}
			set_global_flag = CHI_warlord_period_happened
			#revolve warlords first
			#miao
			if = {
				limit = {
					SIC={
						exists = yes
						NOT={has_cosmetic_tag = SIC_White_Hao}
					}
				}
				white_peace = SIC
			}
			SIC={
				transfer_state = 603
				set_cosmetic_tag = SIC_miao_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Nian
			if = {
				limit = {
					NIE={exists = yes}
				}
				white_peace = NIE
			}
			NIE={
				set_cosmetic_tag = NIE_nian_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration CHI_bandit_state}
				transfer_state = 597
				add_state_core = 597
				transfer_state = 1232
				add_state_core = 1232
				transfer_state = 1151
				add_state_core = 1151
				transfer_state = 614
				add_state_core = 614
				clr_country_flag = rebel_uprising
				if = {
					limit = {
						ROOT = {owns_state=1170}
					}
					transfer_state = 1170
					add_state_core = 1170
						
				}
				if = {
					limit = {
						ROOT = {owns_state=1169}
					}
					transfer_state = 1169
					add_state_core = 1169
						
				}
				if = {
					limit = {
						ROOT = {owns_state=1168}
					}
					transfer_state = 1168
					add_state_core = 1168
						
				}
				if = {
					limit = {
						ROOT = {owns_state=1167}
					}
					transfer_state = 1167
					add_state_core = 1167
						
				}
				load_focus_tree = CHI_warlords_1872	
			}
			#Ma
			if = {
				limit = {
					XSM={exists = yes}
				}
				white_peace = XSM
			}
			XSM={
				set_cosmetic_tag = XSM_early_ma_clique #just the flag
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 604
				add_state_core = 604
				transfer_state = 1255
				add_state_core = 1255
				transfer_state = 616
				add_state_core = 616
				transfer_state = 1256
				add_state_core = 1256
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Dungan
			if = {
				limit = {
					SIK={exists = yes}
				}
				white_peace = SIK
			}
			SIK={
				set_cosmetic_tag = SIK_dungan_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 287
				add_state_core = 287
				transfer_state = 619
				add_state_core = 619
				transfer_state = 1253
				add_state_core = 1253
				transfer_state = 1254
				add_state_core = 1254
				transfer_state = 1225
				add_state_core = 1225
				transfer_state = 617
				add_state_core = 617
				add_state_core = 1252
				transfer_state = 947
				add_state_core = 947
				if = {
					limit = {
						ROOT = {owns_state=945}
					}
					transfer_state = 945
					add_state_core = 945
						
				}
				if = {
					limit = {
						ROOT = {owns_state=946}
					}
					transfer_state = 946
					add_state_core = 946
							
				}
				if = {
					limit = {
						ROOT = {owns_state=943}
					}
					transfer_state = 943
					add_state_core = 943
							
				}
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Ma Zhenlong
			if = {
				limit = {
					MAN={exists = yes}
				}
				white_peace = MAN
			}
			MAN={
				set_cosmetic_tag = MAN_ma_zhenlong_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 1025
				add_state_core = 1025
				transfer_state = 716
				add_state_core = 716
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Hui
			if = {
				limit = {
					ZHI={exists = yes}
				}
				white_peace = ZHI
				ZHI={white_peace = YUL}
			}
			ZHI={
				set_cosmetic_tag = ZHI_hui_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 1223
				add_state_core = 1223
				transfer_state = 807
				add_state_core = 807
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Gelaohui
			if = {
				limit = {
					YUL={exists = yes}
				}
				white_peace = YUL
			}
			YUL={
				set_cosmetic_tag = YUL_gelaohui_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 1222
				add_state_core = 1222
				transfer_state = 283
				add_state_core = 283
				if = {
					limit = {
						SIK={exists=yes}
					}
					white_peace = SIK
				}
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			##resolve non-rebellion cliques
			#Sinkiang (2 electric boglaloo)
			MEN={
				set_cosmetic_tag = MEN_sinkang_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 618
				add_state_core = 618
				clr_country_flag = rebel_uprising
				if = {
					limit = {
						ROOT = {owns_state=944}
					}
					transfer_state = 944
					add_state_core = 944
							
				}
				load_focus_tree = CHI_warlords_1872	
			}
			#Xiang Army
			delete_unit_template_and_units = {
				division_template = "Xiang Army"
				disband = no #will refund equipment and manpower
			}
			HNA={
				set_cosmetic_tag = HNA_xiang_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 602
				add_state_core = 602
				clr_country_flag = rebel_uprising
				load_oob = "HNA_xiang_army"
				load_focus_tree = CHI_warlords_1872	
			}
			#Shanxi
			SHX={
				set_cosmetic_tag = SHX_shanxi_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 615
				add_state_core = 615
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#yunnan
			YUN={
				set_cosmetic_tag = YUN_yunnan_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 325
				add_state_core = 325
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Yi
			XIN={
				set_cosmetic_tag = XIN_yi_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 601
				add_state_core = 601
				transfer_state = 1152
				add_state_core = 1152
				transfer_state = 973
				add_state_core = 973
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Ba
			WUH={
				set_cosmetic_tag = WUH_ba_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 620
				add_state_core = 620
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#Ordos (this is called I____ league, but the spelling is so inconsisant and information is so hard to find, just calling it the modern name)
			YSS={
				set_cosmetic_tag = YSS_ordos_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 1226
				add_state_core = 1226
				transfer_state = 622
				add_state_core = 622
				clr_country_flag = rebel_uprising
				load_focus_tree = CHI_warlords_1872	
			}
			#tibet declares independance
			TIB={add_state_core = 1394}
			if={
				limit={
					TIB ={is_subject_of = QNG}
				}
				set_autonomy = {
					target = TIB
					autonomy_state = autonomy_free
					end_wars = no
					end_civil_wars = no
				}
				drop_cosmetic_tag = yes
			}
			else={
				release = TIB
			}
			#mongolia declares independance
			MON={
				add_ideas = {CHI_rebel_administration}
				load_focus_tree = CHI_warlords_1872	
				if = {
					limit = {
						ROOT = {owns_state=621}
					}
					add_state_core = 621
				}	
				if = {
					limit = {
						ROOT = {owns_state=1294}
					}
					add_state_core = 1294
				}	
				if = {
					limit = {
						ROOT = {owns_state=612}
					}
					add_state_core = 612
				}					
			}
			release = MON
			if = {
				limit = {
					owns_state=329
				}
				TAN={
					add_state_core = 329
					set_politics = {
						ruling_party = radical_democracy
					}
					set_cosmetic_tag = TAN_uryankhay_republic
					inherit_technology = ROOT
					inherit_institutions = yes
					set_popularities = {
						anarchism = 0
						vanguard_communism = 0
						collectivist_socialism = 0
						social_egalitarianism = 0
						centrism = 0
						traditional_conservatism = 0
						radical_democracy = 100
						chauvinist_populism = 0
						autocracy = 0
						fundamentalism = 0
					}
				}
				release = TAN
			}
			
			
			#Kumul becomes indpendant
			release = KML
			
			608={#he who holds bejing, holds the empire
				if = {#Taiping
					limit = {TAI={controls_state = PREV}}
					TAI={save_event_target_as = new_CHI_emperor}
				}
				#ming Claiments
				else_if = {#Dacheng
					limit = {GXC={controls_state = PREV}}
					GXC={save_event_target_as = new_CHI_emperor}
				}
				else_if = {#White Hao
					limit = {
						SIC={
							has_cosmetic_tag = SIC_White_Hao
							controls_state = PREV
						}
					}
					SIC={save_event_target_as = new_CHI_emperor}
				}
				else_if = {#Baguahui
					limit = {TAW={controls_state = PREV}}
					TAW={save_event_target_as = new_CHI_emperor}
				}
				#new empires
				else_if = {#Shuntain
					limit = {SHU={controls_state = PREV}}
					SHU={save_event_target_as = new_CHI_emperor}
				}
				else_if = {#Tianshun
					limit = {ANH={controls_state = PREV}}
					ANH={save_event_target_as = new_CHI_emperor}
				}
				else_if = {#Yanling
					limit = {YAL={controls_state = PREV}}
					YAL={save_event_target_as = new_CHI_emperor}
				}
				else_if = {
					limit = {TAI={exists = yes}}
					TAI={save_event_target_as = new_CHI_emperor}
					ROOT = {set_country_flag = contested_heavenly_mandate}
				}
				else={
					ROOT = {set_country_flag = qing_reduced}
				}
			}

			if = {#Shuntain exists
				limit = {
					SHU={
						exists=yes
					}
				}
				white_peace = SHU
			}
			SHU={
				set_cosmetic_tag = SHU_shuntain_clique
				load_focus_tree = CHI_warlords_1872	
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				transfer_state = 605
				add_state_core = 605		
				clr_country_flag = rebel_uprising
			}
			if = {#Tianshun exists
				limit = {
					ANH={
						exists=yes
					}
				}
				white_peace = ANH
				
			}
			ANH={
				set_cosmetic_tag = ANH_tianshun_clique
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				load_focus_tree = CHI_warlords_1872	
				transfer_state = 606
				add_state_core = 606	
				transfer_state = 607
				add_state_core = 607				
				clr_country_flag = rebel_uprising
			}
			if = {#Baguahui exists
				limit = {
					TAW={
						exists=yes
					}
				}
				white_peace = TAW
			}
			TAW={
				remove_ideas={QNG_rebel_uprising}
				add_ideas = {CHI_rebel_administration}
				load_focus_tree = CHI_warlords_1872	
				clr_country_flag = rebel_uprising
				transfer_state = 1229
				add_state_core = 1229
				transfer_state = 524
				add_state_core = 524
			}
			if = {#Heavenly kingdom exists
				limit = {
					TAI={
						exists=yes
					}
				}
				white_peace = TAI
			}
			TAI={
				remove_ideas={QNG_rebel_uprising}
				add_ideas={CHI_idea_insufficient_army CHI_idea_new_mandate}
				load_focus_tree = CHI_new_mandate_1872
				if = {
					limit = {
						ROOT = {owns_state=595}
					}
					transfer_state = 595
					add_state_core = 595
					transfer_state = 1159
					add_state_core = 1159
				}
				if = {
					limit = {
						ROOT = {owns_state=596}
					}
					transfer_state = 596
					add_state_core = 596
					transfer_state = 1161
					add_state_core = 1161
					transfer_state = 1160
					add_state_core = 1160
					transfer_state = 1162
					add_state_core = 1162
				}
				if = {
					limit = {
						ROOT = {owns_state=613}
					}
					transfer_state = 613
					add_state_core = 613
					transfer_state = 1163
					add_state_core = 1163
					transfer_state = 1164
					add_state_core = 1164
					transfer_state = 1165
					add_state_core = 1165
					
				}
				if = {
					limit = {
						ROOT = {owns_state=602}
					}
					transfer_state = 602
					add_state_core = 602
				}
				if = {
					limit = {
						ROOT = {owns_state=598}
					}
					transfer_state = 598
					add_state_core = 598
					transfer_state = 1166
					add_state_core = 1166
				}
				clr_country_flag = rebel_uprising
			}
			if = {#Panthay exists
				limit = {
					PTH={
						exists=yes
					}
				}
				white_peace = PTH
			}
			PTH={
				set_cosmetic_tag = PTH_pingnan_guo
				remove_ideas={QNG_rebel_uprising}
				transfer_state = 974
				add_state_core = 974
				load_focus_tree = CHI_warlords_1872	
				clr_country_flag = rebel_uprising
			}
			if = {#Dacheng exists
				limit = {
					GXC={
						exists=yes
					}
				}
				white_peace = GXC
			}
			GXC={
				set_cosmetic_tag = GXC_ming #declares ming anyway
				remove_ideas={QNG_rebel_uprising}
				add_ideas={CHI_idea_insufficient_army CHI_idea_new_mandate}
				load_focus_tree = CHI_new_mandate_1872
				transfer_state = 592
				add_state_core = 592
				transfer_state = 593
				add_state_core = 593
				transfer_state = 1157
				add_state_core = 1157
				transfer_state = 1158
				add_state_core = 1158
				transfer_state = 599
				add_state_core = 599				
				if = {
					limit = {
						YAL={
							exists = no
							owns_state = 594
						}
					}
					transfer_state = 594
					add_state_core = 594	
					transfer_state = 1156
					add_state_core = 1156	
					transfer_state = 728
					add_state_core = 728
					transfer_state = 591
					add_state_core = 591
				}
				if = {
					limit = {
						TAW={
							exists = yes
						}
					}
					ROOT = {white_peace = TAW}
					puppet = TAW
					TAW={country_event = {id = qing_reb.18 days = 5}} #Under the ming
				}
				if = {
					limit = {
						SIC={
							exists = yes
						}
					}
					ROOT = {white_peace = SIC}
					puppet = SIC
					SIC={country_event = {id = qing_reb.18 days = 5}} #Under the ming
				}
				clr_country_flag = rebel_uprising
			}
			if = {#Wu Lingyun exists
				limit = {
					YAL={
						exists=yes
						owns_state = 594
					}
				}
				white_peace = YAL
				YAL={
					set_cosmetic_tag = YAL_wu_lingyun_clique
					remove_ideas={QNG_rebel_uprising}
					transfer_state = 1156
					add_state_core = 1156	
					transfer_state = 728
					add_state_core = 728
					transfer_state = 591
					add_state_core = 591
					clr_country_flag = rebel_uprising
					load_focus_tree = CHI_warlords_1872
				}
			}
			else={
				GXC={
					transfer_state = 1156
					add_state_core = 1156	
					transfer_state = 728
					add_state_core = 728
					transfer_state = 591
					add_state_core = 591
					transfer_state = 594
					add_state_core = 594
				}
			}
			
			if = {#resolve the new empire
				limit = {
					event_target:new_CHI_emperor = {
						exists = yes
					}
				}
				white_peace = event_target:new_CHI_emperor
				clr_country_flag = true_china
				event_target:new_CHI_emperor={
					country_event = {id = qing_reb.19}
					set_country_flag = QNG_heavenly_mandate
					set_country_flag = true_china
					load_focus_tree = CHI_new_mandate_1872
					add_ideas={CHI_idea_new_mandate}
					if = {
						limit = {tag= SHU}
						set_cosmetic_tag = ANH_shuntain_empire
						add_ideas={CHI_idea_insufficient_army}
						annex_country = {
							target = XIN
							transfer_troops = yes
						}
					}
					else_if = {
						limit = {tag= ANH}
						set_cosmetic_tag = ANH_tianshun_empire
						add_ideas={CHI_idea_insufficient_army}
					}
					else_if = {
						limit = {tag= TAI}
						set_cosmetic_tag = TAI_heavenly_empire
					}
					else_if = {
						limit = {tag= PTH}
						set_cosmetic_tag = PTH_new_han_empire
						add_ideas={CHI_idea_insufficient_army}
					}
					else_if = {
						limit = {tag= YAL}
						set_cosmetic_tag = YAL_empire
						add_ideas={CHI_idea_insufficient_army}
					}
					else_if = {
						limit = {
							OR={
								tag= GXC
								tag= TAW
								tag= SIC
							}
						}
						set_cosmetic_tag = GXC_ming_true
						add_ideas={CHI_idea_insufficient_army}
					}					
				}
			}
			if = {
				limit = {TAW={has_war_with = QNG}}
				TAW={
					load_focus_tree = CHI_warlords_1872	
					#set_cosmetic_tag = ZHI_hui_clique
					remove_ideas={QNG_rebel_uprising}
					clr_country_flag = rebel_uprising
				}
				white_peace = TAW
			}
			
		}
	}
    option = { #
        name = qing_reb.17.a
		# log = "option:        name = qing_reb.17.a"
    }
}

country_event = { #Ming Declares you a vassal
    id = qing_reb.18
    title = qing_reb.18.t
    desc = qing_reb.18.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.18"
	}
	is_triggered_only=yes
    option = { #we are always loyal to ming
        name = qing_reb.18.a
		# log = "option:        name = qing_reb.18.a"
		ai_chance = {
			factor = 90
		}
    }
	option = { #they are not the true ming yet
        name = qing_reb.18.b
		# log = "option:        name = qing_reb.18.b"
		ai_chance = {
			factor = 10
		}
    }
}

country_event = { #you art emperor now
    id = qing_reb.19
    title = qing_reb.19.t
    desc = {
		text = qing_reb.19.d 
		trigger={
			NOT={tag= event_target:new_CHI_emperor}
		}
	}
	desc = {
		text = qing_reb.19.d_a
		trigger={
			tag= event_target:new_CHI_emperor
		}
	}
	major = yes

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.19"
	}
	is_triggered_only=yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.19"
		hidden_effect={
			#add_ideas={QNG_new_mandate}
			if = {
				limit = {
					NOT={tag=PTH}
					PTH={exists = yes}
				}#if panthay is independant, can ask to join peacefully in exchange for rights
				country_event = {id = qing_reb.20 days = 3}
			}
		}
	}
    option = { #it is our time 
        name = qing_reb.19.a
		# log = "option:        name = qing_reb.19.a"
		trigger={
			tag= event_target:new_CHI_emperor
		}
		if = {
			limit = {
				is_ai = no
			}
			set_variable={super_event_displayed = 28}
		}
    }
	option = { #Curse the False Emperor
        name = qing_reb.19.b
		# log = "option:        name = qing_reb.19.b"
		trigger={
			tag= QNG
		}
		if = {
			limit = {
				is_ai = no
			}
			set_variable={super_event_displayed = 28}
		}
    }
	option = { #
        name = qing_reb.19.c
		# log = "option:        name = qing_reb.19.c"
		trigger={
			NOT={
				tag= QNG
				tag= event_target:new_CHI_emperor
			}
		}
		if = {
			limit = {
				is_ai = no
			}
			set_variable={super_event_displayed = 28}
		}
    }
}

country_event = { #Question of Shi Dakai
    id = qing_reb.20
    title = qing_reb.20.t
    desc = qing_reb.20.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.20"
	}
	is_triggered_only=yes
    option = { #Sideline him
        name = qing_reb.20.a
		# log = "option:        name = qing_reb.20.a"
		ai_chance = {
			factor = 90
		}
		retire_character = TAI_Shi_Dakai
		set_country_flag = TAI_shi_dakai_removed
		remove_ideas={QNG_idea_TAI_shi_dakai}
    }
	option = { #We have nothing to fear from him
        name = qing_reb.20.b
		# log = "option:        name = qing_reb.20.b"
		ai_chance = {
			factor = 10
		}
		set_country_flag = TAI_shi_dakai_stays
		add_stability = -0.1
    }
}

country_event = { #taiping dies, lower the xiang army
    id = qing_reb.21
    title = qing_reb.21.t
    desc = qing_reb.21.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.21"
	}

    trigger = {
		TAG = QNG
		TAI={exists = no}
		has_template = "Xiang Army"
	}

    fire_only_once = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.21"
		set_country_flag = xiang_army_unavailable
		delete_unit_template_and_units = {
			division_template = "Xiang Army"
		}
	}
    option = { #ok
        name = qing_reb.21.a
		# log = "option:        name = qing_reb.21.a"
    }
}

country_event = { #demand tribute
    id = qing_reb.22
    title = qing_reb.22.t
    desc = qing_reb.22.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.22"
	}
	is_triggered_only=yes
    option = { #we are always loyal to ming
        name = qing_reb.22.a
		# log = "option:        name = qing_reb.22.a"
		ai_chance = {
			factor = 90
		}
		FROM = {}
    }
	option = { #they are not the true ming yet
        name = qing_reb.22.b
		# log = "option:        name = qing_reb.22.b"
		ai_chance = {
			factor = 10
		}
    }
}

country_event = { #TAI offers a trading port for support
    id = qing_reb.25
    title = qing_reb.25.t
    desc = qing_reb.25.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.25"
	}
	is_triggered_only=yes
    option = { #a wedge to open china with
        name = qing_reb.25.a
		# log = "option:        name = qing_reb.25.a"
		ai_chance = {
			factor = 75
		}
		TAI={country_event = {id=qing_reb.26}}
		set_country_flag = TAI_owes_shanghai_port
		add_political_power = -50
    }
	option = { #we prefer our deals with qing
        name = qing_reb.25.b
		# log = "option:        name = qing_reb.25.b"
		ai_chance = {
			factor = 25
		}
		TAI={country_event = {id=qing_reb.27}}
    }
}
country_event = { #offer agreed upon
    id = qing_reb.26
    title = qing_reb.26.t
    desc = qing_reb.26.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.26"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.26.a
		# log = "option:        name = qing_reb.26.a"
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = FROM
		}
    }

}
country_event = { #offer rejected
    id = qing_reb.27
    title = qing_reb.27.t
    desc = qing_reb.27.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.27"
	}
	is_triggered_only=yes
    option = { #damn
        name = qing_reb.27.a
		# log = "option:        name = qing_reb.27.a"
		ai_chance = {
			factor = 75
		}
		
    }

}
country_event = { #strike on shanghai
    id = qing_reb.29
    title = qing_reb.29.t
    desc = qing_reb.29.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.29"
	}
	is_triggered_only=yes
    option = { #Besige the city
        name = qing_reb.29.a
		# log = "option:        name = qing_reb.29.a"
		ai_chance = {
			factor = 100
		}
		add_manpower = -2000
		QNG={country_event = {id = qing_reb.30}}
    }

}
country_event = { #Countering the strike
    id = qing_reb.30
    title = qing_reb.30.t
    desc = qing_reb.30.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.30"
	}
	is_triggered_only=yes
    option = { #Besige the city
        name = qing_reb.30.a
		# log = "option:        name = qing_reb.30.a"
		ai_chance = {
			factor = 100
		}
		add_manpower = -2000
		random_list={
			75={
				FROM = {country_event = {id = qing_reb.31}}#shanghai gambit fails
			}
			25={
				FROM = {country_event = {id = qing_reb.32}}#shanghai gambit succedes
			}
		}
    }

}
country_event = { #ever victorius army formed
    id = qing_reb.31
    title = qing_reb.31.t
    desc = qing_reb.31.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.31"
	}
	is_triggered_only=yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.31"
		QNG={
			load_oob = QNG_ever_victorious_army
			add_equipment_to_stockpile = {
				type = infantry_equipment_rifle_1
				amount = 500
				producer = USA
			}
			add_equipment_to_stockpile = {
				type = field_artillery_equipment_0
				amount = 150
				producer = USA
			}
			set_country_flag = QNG_ever_victorius_army
			create_corps_commander = {
				name = "Frederick Townsend Ward"
				picture = "Portrait_QNG_Frederick_Townsend_Ward.dds"
				traits = { brilliant_strategist }
				skill = 3
				attack_skill = 5
				defense_skill = 2
				planning_skill = 4
				logistics_skill = 3
			}
		}
	}
    option = { #oops
        name = qing_reb.31.a
		# log = "option:        name = qing_reb.31.a"
		ai_chance = {
			factor = 100
		}
    }

}
country_event = { #strike on shanghai succedes
    id = qing_reb.32
    title = qing_reb.32.t
    desc = qing_reb.32.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.32"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.32.a
		# log = "option:        name = qing_reb.32.a"
		ai_chance = {
			factor = 100
		}
		load_oob = TAI_shanghai_force
    }

}
country_event = { #Equipment Cache captured
    id = qing_reb.33
    title = qing_reb.33.t
    desc = qing_reb.33.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.33"
	}
	trigger={
		OR={
			has_idea = QNG_rebel_uprising
			has_idea = QNG_rebel_uprising_lost
			has_idea = QNG_idea_banner_armies
		}
		has_war = yes
	}
	mean_time_to_happen={
		days = 30
	}
    option = { #perfect
        name = qing_reb.33.a
		# log = "option:        name = qing_reb.33.a"
		ai_chance = {
			factor = 100
		}
		random_list={
			45={
				add_equipment_to_stockpile={
					type = uniform_equipment_0
					amount = 1000
					producer = QNG
				}
			}
			30={
				add_political_power = 10
			}
			25={
				add_equipment_to_stockpile={
					type = infantry_equipment_pre_rifle_2
					amount = 4000
					producer = QNG
				}
			}
		}
    }

}

country_event = { #request for recognition - TODO
    id = qing_reb.34
    title = qing_reb.34.t
    desc = qing_reb.34.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.34"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.34.a
		# log = "option:        name = qing_reb.34.a"
		ai_chance = {
			factor = 100
		}
    }

}

country_event = { #Dreams of Transoxina
    id = qing_reb.35
    title = qing_reb.35.t
    desc = qing_reb.35.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.35"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.35.a
		# log = "option:        name = qing_reb.35.a"
		ai_chance = {
			factor = 100
		}
    }

}
country_event = { #Deligation from Dungan Clique Arrives
    id = qing_reb.36
    title = qing_reb.36.t
    desc = qing_reb.36.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.36"
	}
	is_triggered_only=yes
    option = { #Agree
        name = qing_reb.36.a
		# log = "option:        name = qing_reb.36.a"
		ai_chance = {
			factor = 70
		}
		SIK={country_event = {id = qing_reb.42}}
		set_country_flag = SIK_agree_to_transoxiana
    }
	option = { #Refuse
        name = qing_reb.36.a
		# log = "option:        name = qing_reb.36.a"
		ai_chance = {
			factor = 30
		}
		SIK={country_event = {id = qing_reb.41}}
    }

}
news_event = { #formation of tranxoniana
    id = qing_reb.37
    title = qing_reb.37.t
    desc = qing_reb.37.d
	
	major = yes

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.37"
	}
	is_triggered_only=yes
    option = { #ok
        name = qing_reb.37.a
		# log = "option:        name = qing_reb.37.a"
		ai_chance = {
			factor = 100
		}
    }

}

country_event = { #education reforms
    id = qing_reb.38
    title = qing_reb.38.t
    desc = qing_reb.38.d

# #    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.38"
	}
	is_triggered_only=yes
    option = { #open schools to all
        name = qing_reb.38.a
		# log = "option:        name = qing_reb.38.a"
		ai_chance = {
			factor = 20
		}
    }
	option = { #continue confushion traditions
        name = qing_reb.38.b
		# log = "option:        name = qing_reb.38.b"
		ai_chance = {
			factor = 20
		}
    }
	option = { #modern western teachers
        name = qing_reb.38.c
		# log = "option:        name = qing_reb.38.c"
		ai_chance = {
			factor = 20
		}
    }

}

country_event = { #unifaction of taiwan
    id = qing_reb.39
    title = qing_reb.39.t
    desc = qing_reb.39.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.39"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.39.a
		# log = "option:        name = qing_reb.39.a"
		ai_chance = {
			factor = 100
		}
    }

}

country_event = { #shatter china
    id = qing_reb.40
    title = qing_reb.40.t
    desc = qing_reb.40.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.40"
	}
	is_triggered_only=yes
    option = { #fully shattered
        name = qing_reb.40.a
		# log = "option:        name = qing_reb.40.a"
		hidden_effect={
			QNG={
				country_event = {id= qing_reb.17}
			}
		}
    }
	 option = { #not the minors
        name = qing_reb.40.b
		# log = "option:        name = qing_reb.40.b"
		
		#QNG={country_event = {id= qing_reb.17}}
    }

}

country_event = { #refused
    id = qing_reb.41
    title = qing_reb.41.t
    desc = qing_reb.41.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.41"
	}
	is_triggered_only=yes
    option = { #take them
        name = qing_reb.41.a
		# log = "option:        name = qing_reb.41.a"
		ai_chance = {
			factor = 95
		}
		FROM = {
			every_owned_state={
				ROOT = {add_state_claim = PREV}
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
    }
	option = { #give up the notion
        name = qing_reb.41.b
		# log = "option:        name = qing_reb.41.b"
		ai_chance = {
			factor = 5
		}
    }

}
country_event = { #they agree
    id = qing_reb.42
    title = qing_reb.42.t
    desc = qing_reb.42.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.42"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.42.a
		# log = "option:        name = qing_reb.42.a"
		puppet = FROM
		ai_chance = {
			factor = 100
		}
    }

}


country_event = { #Dungan revolt
    id = qing_reb.43
    title = qing_reb.43.t
    desc = qing_reb.43.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.43"
	}

    #trigger = {
		#TAG = CHI
		#date > 1895.2.1
		#date < 1896.1.1
	  #}
	  

	  # mean_time_to_happen = { days = 60 }
    is_triggered_only = yes
	immediate={
		# log = "[THIS.GetTag]: firing id = qing_reb.43"
		hidden_effect={
			if = {
				limit = {
					XSM={exists = no}
				}
				XSM={
					set_cosmetic_tag = SIK_dungan
					set_state_owner = 283
					add_state_core = 283
					set_state_controller = 283
					
					set_politics = {
						ruling_party = fundamentalism
					}

					set_popularities = {
							anarchism = 0
							vanguard_communism = 0
							collectivist_socialism = 0
							social_egalitarianism = 0
							centrism = 0
							traditional_conservatism = 0
							radical_democracy = 0
							chauvinist_populism = 0
							autocracy = 31
							fundamentalism = 69
					}
					
					load_oob = "SIK_dungan_2"
					create_country_leader = {
						name = "Ma Yonglin"
						desc = "POLITICS_TEMP_DESC"
						picture = "Portrait_SIK_Ma_Yonglin.dds"
						expire = 1898.06.30
						ideology = islamist
					}
					set_country_flag = rebel_uprising
					declare_war_on = {
						target = QNG
						type = annex_everything
					}
				}
			}
		}
	}
    option = { #let us fight
        name = qing_reb.43.a
		# log = "option:        name = qing_reb.43.a"
    }
}

country_event = { #death of Zhu Heling
    id = qing_reb.44
    title = qing_reb.44.t
    desc = qing_reb.44.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.44"
	}
	trigger = {
		TAG = GXC
		date < 1869.1.1
		date > 1875.1.1
		has_country_leader = {
			name = "Zhu Heling"
			ruling_only = yes
		}
	}

	mean_time_to_happen = { days = 60 }
    fire_only_once = yes
    option = { #perfect
        name = qing_reb.44.a
		# log = "option:        name = qing_reb.44.a"
		retire_country_leader = yes
		create_country_leader = {
			name = "Zhu Chengrui"
			desc = "POLITICS_ZHU_CHENGRUI_DESC"
			picture = "Portrait_Zhu_Chengrui.dds"
			expire = "1900.1.1"
			ideology = despotism
			traits = {
						
			}
		}
		ai_chance = {
			factor = 100
		}
    }

}
country_event = { #demand independance
    id = qing_reb.45
    title = qing_reb.45.t
    desc = qing_reb.45.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.45"
	}
	is_triggered_only=yes
    option = { #perfect
        name = qing_reb.45.a
		# log = "option:        name = qing_reb.45.a"
		ai_chance = {
			factor = 50
		}
    }
	option = { #perfect
        name = qing_reb.45.b
		# log = "option:        name = qing_reb.45.b"
		ai_chance = {
			factor = 50
		}
    }

}
country_event = { #TAW offers a deal
    id = qing_reb.46
    title = qing_reb.46.t
    desc = qing_reb.46.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.46"
	}
	is_triggered_only=yes
    option = { #accept
        name = qing_reb.46.a
		# log = "option:        name = qing_reb.46.a"
		ai_chance = {
			factor = 25
			modifier = {
				factor = 100
				FROM = {is_ai = no}
			}
		}
		FROM = {
			set_country_flag = PAW_accepted
		}
    }
	option = { #decline
        name = qing_reb.46.b
		# log = "option:        name = qing_reb.46.b"
		ai_chance = {
			factor = 75
		}
    }

}
country_event = { #PAW accepts
    id = qing_reb.47
    title = qing_reb.47.t
    desc = qing_reb.47.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.47"
	}
	is_triggered_only=yes
	option = { #ok
        name = qing_reb.47.a
		# log = "option:        name = qing_reb.47.a"
    }

}
country_event = { #PAW declines
    id = qing_reb.48
    title = qing_reb.48.t
    desc = qing_reb.48.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.48"
	}
	is_triggered_only=yes
	option = { #ok
        name = qing_reb.48.a
		# log = "option:        name = qing_reb.48.a"
		add_political_power = -50
    }

}
news_event = { #Unifaction of Taiwan
    id = qing_reb.49
    title = qing_reb.49.t
    desc = qing_reb.49.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.49"
	}
	is_triggered_only=yes
	
	option = { #great
        name = qing_reb.49.a
		# log = "option:        name = qing_reb.49.a"
		trigger={
			tag = TAW
		}
		ai_chance = {
			factor = 25
		}
		PAW={
			every_owned_state = {
				remove_core_of = PAW
				add_core_of = TAW
			}
		}
		annex_country = {
			target = PAW
			transfer_troops = yes
		}
		set_cosmetic_tag = TAW_formosan_republic
    }
	option = { #ok
        name = qing_reb.49.b
		# log = "option:        name = qing_reb.49.b"
		ai_chance = {
			factor = 25
		}
    }

}
country_event = { #establishment of Pingnan Guo
    id = qing_reb.50
    title = qing_reb.50.t
    desc = qing_reb.50.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.50"
	}
	is_triggered_only=yes
	option = { #ok
        name = qing_reb.48.a
		# log = "option:        name = qing_reb.48.a"
		add_political_power = -50
    }

}

country_event = { #Equipment Cache captured
    id = qing_reb.51
    title = qing_reb.51.t
    desc = qing_reb.51.d

#    picture = GFX_report_event_election_vote

	immediate = {
		# log = "[THIS.GetTag]: firing id = qing_reb.51"
	}
	is_triggered_only = yes
    option = { #perfect
        name = qing_reb.51.a
		# log = "option:        name = qing_reb.51.a"
		ai_chance = {
			factor = 100
		}
		every_country={
			add_equipment_to_stockpile = {
				type = uniform_equipment_0
				amount = -200000
				producer = EZO
			}
		}
    }

}